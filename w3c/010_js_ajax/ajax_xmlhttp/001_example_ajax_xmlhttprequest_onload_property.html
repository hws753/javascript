<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX Example</title>
</head>
<body>
    <!-- Main heading -->
    <h1>The AJAX will change this text</h1>

  

    <!-- Div where the fetched content will be displayed -->
    <div id="output">testo che cambia</div>

      <!-- Button to trigger the AJAX request -->
      <button type="button" onclick="loadDoc()">Change Content</button>

    <script>
        function loadDoc() {
            // Create a new XMLHttpRequest object
            const xhttp = new XMLHttpRequest();

//        Property	                Description
// onreadystatechange	Defines a function to be called when the readyState property changes
// readyState	Holds the status of the XMLHttpRequest.
// 0: request not initialized
// 1: server connection established
// 2: request received
// 3: processing reques            t
// 4: request finished and response is ready
// status	200: "OK"
// 403: "Forbidden"
// 404: "Page not found"
// For a complete list go to the Http Messages Reference
// Define what happens when the response is received
            xhttp.onreadystatechange = function() {
                // Check if the request is complete (readyState === 4) and successful (status === 200)
                //4: request finished and response is ready
                //status 200: "OK"
                if (this.readyState === 4 && this.status === 200) {
                    // Update the 'output' div with the response text
                    document.getElementById("output").innerHTML = this.responseText;
                }
            };

            // Initialize the request
            // "GET" -> HTTP method
            // "./text_to_be_published/text.txt" -> Path to the file to be retrieved
            // true -> Asynchronous request
            xhttp.open("GET", "./text_to_be_published/text.txt", true);//Asynchronous - True or False

            // Send the request
            xhttp.send();
        }
    </script>
</body>
</html>
